name: Quality Checks
permissions:
  contents: read

on:
  workflow_call:

jobs:

  linting:
    uses: ./.github/workflows/_node_job.yaml
    with:
      name: ğŸ§¹  Linting
      run: pnpm lint

  typeCheck:
    uses: ./.github/workflows/_node_job.yaml
    with:
      name: ğŸ”  Type Check
      run: pnpm typecheck

  unitTest:
    uses: ./.github/workflows/_node_job.yaml
    with:
      name: ğŸ§ª  Unit Test
      run: pnpm test
      timeout-minutes: 15

  unusedDependencies:
    uses: ./.github/workflows/_node_job.yaml
    with:
      name: ğŸ“¦  Unused Dependencies Check
      run: pnpm dlx knip --include dependencies
